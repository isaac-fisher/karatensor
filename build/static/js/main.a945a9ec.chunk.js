(window.webpackJsonptest1=window.webpackJsonptest1||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},20:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),u=(n(20),n(1)),i=n(2),l=n.n(i),s=n(3),f=n(4);function b(e,t){var n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=e},[e]),Object(r.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}var d=n(5);function v(){var e=Object(f.a)(["\n  background-color: rebeccapurple;\n  width: ","px;\n  height: ","px;\n  border-radius: 12px;\n  align-self: flex-end;\n  margin-left: ","px;\n"]);return v=function(){return e},e}function p(){var e=Object(f.a)(["\n  position: absolute;\n  bottom: 0;\n  width: ","px;\n  height: ","px;\n  border: black solid 1px;\n  display: flex;\n"]);return p=function(){return e},e}var m=640,w=40,j=5,O=Object(d.a)("div")(p(),m,480),h=Object(d.a)("div")(v(),w,40,function(e){return e.location});var g=function(e){var t=e.move,n=Object(r.useState)(0),c=Object(u.a)(n,2),o=c[0],i=c[1];return b(Object(s.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=t.toLowerCase(),console.log(t),"left"===t?i(o-j<0?0:o-j):"right"===t&&i(o+j>m-w?m-w:o+j);case 3:case"end":return e.stop()}},e)})),80),a.a.createElement(O,null,a.a.createElement(h,{location:o}))},x=["Left","No","Right"];var E=function(e){var t=e.setMove,n=Object(r.useRef)(null),c=Object(r.useState)(null),o=Object(u.a)(c,2),i=o[0],f=o[1],d=Object(r.useState)(!1),v=Object(u.a)(d,2),p=v[0],m=v[1],w=Object(r.useState)(null),j=Object(u.a)(w,2),O=j[0],h=j[1],g=Object(r.useState)(null),E=Object(u.a)(g,2),k=E[0],y=E[1];return Object(r.useEffect)(function(){function e(){return(e=Object(s.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(window.knnClassifier.create()),e.t0=y,e.next=4,window.mobilenet.load();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log("model loaded")},[]),Object(r.useEffect)(function(){n&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){var t=n.current;t.srcObject=e,t.play()})},[n]),b(Object(s.a)(l.a.mark(function e(){var r,a,c,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i||p){e.next=2;break}return e.abrupt("return");case 2:if(r=window.tf.browser.fromPixels(n.current),c=function(){return k.infer(r,"conv_preds")},null!==i&&(a=c(),O.addExample(a,i)),!p){e.next=11;break}return a=c(),e.next=9,O.predictClass(a);case 9:o=e.sent,t(x[o.label]);case 11:case"end":return e.stop()}},e)})),80),a.a.createElement("div",null,a.a.createElement("video",{ref:n,autoPlay:!0,width:"227",height:"227"}),a.a.createElement("div",null,x.map(function(e,t){return a.a.createElement("button",{key:t,onMouseDown:function(){return f(t)},onMouseLeave:function(){return f(null)},onMouseUp:function(){return f(null)}},e," gesture")}),a.a.createElement("br",null),a.a.createElement("button",{onClick:function(){m(!p)},style:{color:p?"green":"red"}},"Test")))};var k=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(E,{setMove:c}),a.a.createElement(g,{move:n}))};var y=function(){return a.a.createElement(k,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.a945a9ec.chunk.js.map